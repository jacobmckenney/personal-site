/*
 * Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Copyright (c) 2011-2012, Log-Normal, Inc.  All rights reserved.
 * Copyright (c) 2012-2017, SOASTA, Inc. All rights reserved.
 * Copyright (c) 2017, Akamai Technologies, Inc. All rights reserved.
 * Copyrights licensed under the BSD License. See the accompanying LICENSE.txt file for terms.
 */
/* Boomerang Version: 1.0.0 0f011f24da24309a05937e5768470bfc22460b1f */
BOOMR_start=(new Date).getTime();function BOOMR_check_doc_domain(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(n){BOOMR.isCrossOriginError(n)||BOOMR.addError(n,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(e&&-1!==e.indexOf(".")&&window.parent){try{window.parent.document;return}catch(n){try{document.domain=e}catch(t){return}}try{window.parent.document;return}catch(n){e=e.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(e)}}}BOOMR_check_doc_domain();!function(l){var u,e,s,r,d,n,c,t,o=l;l.parent!==l&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(l=l.parent);s=l.document;l.BOOMR||(l.BOOMR={});if(!(BOOMR=l.BOOMR).version){BOOMR.version="1.0.0";BOOMR.window=l;BOOMR.boomerang_frame=o;BOOMR.plugins||(BOOMR.plugins={});try{new l.CustomEvent("CustomEvent")!==undefined&&(r=function(e,n){return new l.CustomEvent(e,n)})}catch(a){}try{!r&&s.createEvent&&s.createEvent("CustomEvent")&&(r=function(e,n){var t=s.createEvent("CustomEvent");t.initCustomEvent(e,(n=n||{cancelable:!1,bubbles:!1}).bubbles,n.cancelable,n.detail);return t})}catch(a){}r=(r=!r&&s.createEventObject?function(e,n){var t=s.createEventObject();t.type=t.propertyName=e;t.detail=n.detail;return t}:r)||function(){return undefined};d=function(e,n,t){var o=r(e,{detail:n});o&&(t?BOOMR.setImmediate(i):i());function i(){try{s.dispatchEvent?s.dispatchEvent(o):s.fireEvent&&s.fireEvent("onpropertychange",o)}catch(e){}}};if("undefined"!=typeof s.hidden){n="visibilityState";c="visibilitychange"}else if("undefined"!=typeof s.mozHidden){n="mozVisibilityState";c="mozvisibilitychange"}else if("undefined"!=typeof s.msHidden){n="msVisibilityState";c="msvisibilitychange"}else if("undefined"!=typeof s.webkitHidden){n="webkitVisibilityState";c="webkitvisibilitychange"}u={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:undefined,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:l.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:undefined,same_site_cookie:"Lax",secure_cookie:!1,forced_same_site_cookie_none:!1,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],netinfo:[],rage_click:[],before_early_beacon:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},unloadEventsCount:0,unloadEventCalled:0,listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",nativeOverwrites:[],xb_handler:function(t){return function(e){var n;(e=e||l.event).target?n=e.target:e.srcElement&&(n=e.srcElement);(n=3===n.nodeType?n.parentNode:n)&&n.nodeName&&"OBJECT"===n.nodeName.toUpperCase()&&"application/x-shockwave-flash"===n.type||u.fireEvent(t,n)}},clearEvents:function(){for(var e in this.events)this.events.hasOwnProperty(e)&&(this.events[e]=[])},clearListeners:function(){for(var e in u.listenerCallbacks)if(u.listenerCallbacks.hasOwnProperty(e))for(;u.listenerCallbacks[e].length;)BOOMR.utils.removeListener(u.listenerCallbacks[e][0].el,e,u.listenerCallbacks[e][0].fn);u.listenerCallbacks={}},fireEvent:function(e,n){var t,o,i,r;e=e.toLowerCase();this.translate_events[e]&&(e=this.translate_events[e]);if(this.events.hasOwnProperty(e)){this.public_events.hasOwnProperty(e)&&d(this.public_events[e],n);i=this.events[e];"before_beacon"!==e&&"beacon"!==e&&"before_early_beacon"!==e&&BOOMR.real_sendBeacon();r=i.length;for(t=0;t<r;t++)try{(o=i[t]).fn.call(o.scope,n,o.cb_data)}catch(a){BOOMR.addError(a,"fireEvent."+e+"<"+t+">")}for(t=0;t<r;t++)if(i[t].once){i.splice(t,1);r--;t--}}},spaNavigation:function(){u.onloadfired=!0},beaconUrlAllowed:function(e){if(!u.beacon_urls_allowed||0===u.beacon_urls_allowed.length)return!0;for(var n=0;n<u.beacon_urls_allowed.length;n++)if(new RegExp(u.beacon_urls_allowed[n]).exec(e))return!0;return!1},checkLocalStorageSupport:function(){var e=u.LOCAL_STORAGE_PREFIX+"clss";u.localStorageSupported=!1;try{if(!l.JSON||!l.localStorage)return;l.localStorage.setItem(e,e);u.localStorageSupported=l.localStorage.getItem(e)===e;l.localStorage.removeItem(e)}catch(n){u.localStorageSupported=!1}},onFrameUnloaded:function(){var e,n;BOOMR.isUnloaded=!0;for(e=0;e<u.nativeOverwrites.length;e++)(n=u.nativeOverwrites[e]).obj[n.functionName]=n.origFn;u.nativeOverwrites=[]}};e={t_start:BOOMR_start,t_end:undefined,url:"",config_url:null,loadedLate:!1,beaconsSent:0,isUnloaded:!1,beaconInQueue:!1,cookies:{},testedCookies:!1,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:u.site_domain,ID:undefined,start:undefined,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return!(!l.postMessage||"function"!=typeof l.postMessage&&"object"!=typeof l.postMessage)},objectToString:function(e,n,t){var o,i=[];if(!e||"object"!=typeof e)return e;n===undefined&&(n="\n\t");t=t||0;if(BOOMR.utils.isArray(e)){for(o=0;o<e.length;o++)0<t&&null!==e[o]&&"object"==typeof e[o]?i.push(this.objectToString(e[o],n+("\n\t"===n?"\t":""),t-1)):"&"===n?i.push(encodeURIComponent(e[o])):i.push(e[o]);n=","}else for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(0<t&&null!==e[o]&&"object"==typeof e[o]?i.push(encodeURIComponent(o)+"="+this.objectToString(e[o],n+("\n\t"===n?"\t":""),t-1)):"&"===n?i.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o])):i.push(o+"="+e[o]));return i.join(n)},getCookie:function(e){var n;if(!e)return null;if("undefined"!=typeof BOOMR.cookies[e])return!1===BOOMR.cookies[e]?undefined:BOOMR.cookies[e];if(void 0===(n=this.getRawCookie(e)))return BOOMR.cookies[e]=!1,undefined;BOOMR.cookies[e]=n;return BOOMR.cookies[e]},getRawCookie:function(e){if(!e)return null;var n,t=" "+s.cookie+";";if(0<=(n=t.indexOf(e=" "+e+"=")))return n+=e.length,t.substring(n,t.indexOf(";",n)).replace(/^"/,"").replace(/"$/,"")},setCookie:function(e,n,t){var o,i;if(!e||!BOOMR.session.domain||void 0===n)return BOOMR.addVar("nocookie",1),!1;if((n=this.objectToString(n,"&"))===BOOMR.cookies[e])return!0;if((o=e+'="'+n+'"').length<500){i=[o,"path=/","domain="+BOOMR.session.domain];if("number"==typeof t){(r=new Date).setTime(r.getTime()+1e3*t);r=r.toGMTString();i.push("expires="+r)}var r=this.getSameSiteAttributeParts();"https:"===location.protocol&&!0===u.secure_cookie&&-1===r.indexOf("Secure")&&r.push("Secure");i=i.concat(r);s.cookie=i.join("; ");if(BOOMR.testedCookies)return BOOMR.cookies[e]="number"!=typeof t||0<t?n:undefined,!0;BOOMR.cookies[e]=undefined;if(n===(r=this.getRawCookie(e))||void 0===r&&"number"==typeof t&&t<=0){BOOMR.cookies[e]=n;BOOMR.testedCookies=!0;BOOMR.removeVar("nocookie");return!0}BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+n+"\n"+r)}else BOOMR.warn("Cookie too long: "+o.length+" "+o);BOOMR.addVar("nocookie",1);return!1},getSubCookies:function(e){var n,t,o,i,r=!1,a={};if(!e)return null;if("string"!=typeof e)return null;for(t=0,o=(n=e.split("&")).length;t<o;t++)if((i=n[t].split("="))[0]){i.push("");a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);r=!0}return r?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},getSameSiteAttributeParts:function(){var e=u.same_site_cookie.toUpperCase();return"LAX"===(e=u.forced_same_site_cookie_none?"NONE":e)?["SameSite=Lax"]:"NONE"===e?"https:"===location.protocol&&this.isCurrentUASameSiteNoneCompatible()?["SameSite=None","Secure"]:[]:"STRICT"===e?["SameSite=Strict"]:["SameSite=Lax"]},getLocalStorage:function(e){var n,t;if(!e||!u.localStorageSupported)return null;try{if(null===(n=l.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e)))return undefined;t=l.JSON.parse(n)}catch(o){BOOMR.warn(o);return null}return t&&"object"==typeof t.items?"number"==typeof t.expires&&BOOMR.now()>=t.expires?(this.removeLocalStorage(e),undefined):t.items:(this.removeLocalStorage(e),null)},setLocalStorage:function(e,n,t){var o;if(!e||!u.localStorageSupported||"object"!=typeof n)return!1;n={items:n};"number"==typeof t&&(n.expires=BOOMR.now()+1e3*t);if((t=l.JSON.stringify(n)).length<5e4){try{l.localStorage.setItem(u.LOCAL_STORAGE_PREFIX+e,t);if(t===(o=l.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e)))return!0}catch(i){}BOOMR.warn("Saved storage value doesn't match what we tried to set:\n"+t+"\n"+o)}else BOOMR.warn("Storage items too large: "+t.length+" "+t);return!1},removeLocalStorage:function(e){if(!e||!u.localStorageSupported)return!1;try{l.localStorage.removeItem(u.LOCAL_STORAGE_PREFIX+e);return!0}catch(n){}return!1},cleanupURL:function(e,n){if(!e||BOOMR.utils.isArray(e))return"";u.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted"));if(void 0!==n&&e&&e.length>n){var t=e.indexOf("?");e=-1!==t&&t<n?e.substr(0,t)+"?...":e.substr(0,n-3)+"..."}return e},hashQueryString:function(e,n){return e&&(e.match?(e=e.match(/^\/\//)?location.protocol+e:e).match(/^(https?|file):/)?(e=n?e.replace(/#.*/,""):e).replace(/\?([^#]*)/,function(e,n){return"?"+(10<n.length?BOOMR.utils.hashString(n):n)}):(BOOMR.error("Passed in URL is invalid: "+e),""):(BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e),""))},pluginConfig:function(e,n,t,o){var i,r=0;if(!n||!n[t])return!1;for(i=0;i<o.length;i++)if(n[t][o[i]]!==undefined){e[o[i]]=n[t][o[i]];r++}return 0<r},arrayFilter:function(e,n){var t=[];if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof n)return t;if("function"==typeof e.filter)t=e.filter(n);else for(var o,i=-1,r=e.length;++i<r;)n(o=e[i],i,e)&&(t[t.length]=o);return t},arrayFind:function(e,n){if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof n)return undefined;if("function"==typeof e.find)return e.find(n);for(var t,o=-1,i=e.length;++o<i;)if(n(t=e[o],o,e))return t;return undefined},isMutationObserverSupported:function(){return!(l&&l.navigator&&l.navigator.userAgent&&l.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&l&&l.MutationObserver&&"function"==typeof l.MutationObserver},addObserver:function(e,n,t,o,i,r){var a,s,u={observer:null,timer:null};if(!this.isMutationObserverSupported()||!o||!e)return null;function c(e){var n=!1;if(u.timer){clearTimeout(u.timer);u.timer=null}o&&((n=o.call(r,e,i))||(o=null));if(!n&&u.observer){u.observer.disconnect();u.observer=null}"number"==typeof n&&0<n&&(u.timer=setTimeout(c,n))}a=l.MutationObserver;l.Zone&&"function"==typeof l.Zone.__symbol__&&(s=l.Zone.__symbol__("MutationObserver"))&&"string"==typeof s&&l.hasOwnProperty(s)&&"function"==typeof l[s]&&(a=l[s]);u.observer=new a(c);t&&(u.timer=setTimeout(c,u.timeout));u.observer.observe(e,n);return u},addListener:function(e,n,t,o){var i=!1;if(e.addEventListener){"object"==typeof o?i=o:"boolean"==typeof o&&o&&BOOMR.browser.supportsPassive()&&(i={capture:!1,passive:!0});e.addEventListener(n,t,i)}else e.attachEvent&&e.attachEvent("on"+n,t);u.listenerCallbacks[n]=u.listenerCallbacks[n]||[];u.listenerCallbacks[n].push({el:e,fn:t})},removeListener:function(e,n,t){e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent&&e.detachEvent("on"+n,t);if(u.listenerCallbacks.hasOwnProperty(n))for(var o=0;o<u.listenerCallbacks[n].length;o++)if(t===u.listenerCallbacks[n][o].fn&&e===u.listenerCallbacks[n][o].el)return u.listenerCallbacks[n].splice(o,1),void 0},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,n){var t;if(void 0===e||void 0===n||!n.length)return!1;for(t=0;t<n.length;t++)if(n[t]===e)return!0;return!1},getQueryParamValue:function(e,n){var t,o,i,r;if(!e)return null;"string"==typeof n?(t=BOOMR.window.document.createElement("a")).href=n:t="object"==typeof n&&"string"==typeof n.search?n:BOOMR.window.location;o=t.search.slice(1).split(/&/);for(i=0;i<o.length;i++)if(o[i]&&(r=o[i].split("=")).length&&r[0]===e)try{return 1<r.length?decodeURIComponent(r.splice(1).join("=").replace(/\+/g," ")):""}catch(a){if(!a||"string"!=typeof a.name||-1===a.name.indexOf("URIError"))throw a}return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})},generateId:function(e){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,e||40).replace(/x/g,function(e){return"0"===(e=(Math.random()||.01).toString(36))?"0":e.substr(2,1)})},serializeForUrl:function(e){return BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl?BOOMR.utils.Compression.jsUrl(e):window.JSON?JSON.stringify(e):""},getMyURL:function(){var e,n=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(n)return n.src;for(var t=document.getElementsByTagName("script"),o=t.length;o--;)if("interactive"===t[o].readyState)return t[o].src;try{throw new Error}catch(i){if("stack"in i&&(e=this.arrayFilter(i.stack.split(/\n/),function(e){return e.match(/https?:\/\//)}))&&e.length)return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var e=l.pageXOffset!==undefined,n="CSS1Compat"===(l.document.compatMode||""),t={x:0,y:0};if(e)if("function"==typeof l.pageXOffset){t.x=l.pageXOffset();t.y=l.pageYOffset()}else{t.x=l.pageXOffset;t.y=l.pageYOffset}else if(n){t.x=l.document.documentElement.scrollLeft;t.y=l.document.documentElement.scrollTop}else{t.x=l.document.body.scrollLeft;t.y=l.document.body.scrollTop}"number"==typeof t.sx&&(t.sx=Math.round(t.sx));"number"==typeof t.sy&&(t.sy=Math.round(t.sy));return t},windowHeight:function(){return l.innerHeight||l.document.documentElement.clientHeight||l.document.body.clientHeight},windowWidth:function(){return l.innerWidth||l.document.documentElement.clientWidth||l.document.body.clientWidth},isNative:function(e){return!!e&&e.toString&&!e.hasOwnProperty("toString")&&/\[native code\]/.test(String(e))},overwriteNative:function(e,n,t){if(e&&t){BOOMR.boomerang_frame!==BOOMR.window&&u.nativeOverwrites.push({obj:e,functionName:n,origFn:e[n]});e[n]=t}},isInteger:function(e){return(Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})(e)},isObjectEmpty:function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},hashString:function(e){e=encodeURIComponent(e);for(var n=2166136261,t=0;t<e.length;t++)n=(n^=e.charCodeAt(t))+((n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24));var o=(n>>>0).toString()+e.length;return parseInt(o).toString(36)},isCurrentUASameSiteNoneCompatible:function(){return!(l&&l.navigator&&l.navigator.userAgent&&"string"==typeof l.navigator.userAgent)||this.isUASameSiteNoneCompatible(l.navigator.userAgent)},isUASameSiteNoneCompatible:function(e){var n,t,o=e.match(/(UCBrowser)\/(\d+\.\d+)\.(\d+)/);return o?(n=parseFloat(o[2]),t=o[3],12.13===n?!(t<=2):!(n<12.13)):(o=e.match(/(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/))?!(51<=(t=o[2])&&t<=66):(o=e.match(/(Macintosh;.*Mac OS X 10_14[_\d]*.*) AppleWebKit\//))?(!(o=e.match(/Version\/.* Safari\//))||null!==(o=e.match(/Chrom(?:e|ium)/)))&&!e.match(/^Mozilla\/\d+(?:\.\d+)* \(Macintosh;.*Mac OS X \d+(?:_\d+)*\) AppleWebKit\/\d+(?:\.\d+)* \(KHTML, like Gecko\)$/):!e.match(/(iP.+; CPU .*OS 12(?:_\d+)*.*)/)}},browser:{results:{},supportsPassive:function(){if("undefined"==typeof BOOMR.browser.results.supportsPassive){BOOMR.browser.results.supportsPassive=!1;if(!Object.defineProperty)return!1;try{var e=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,e)}catch(n){}}return BOOMR.browser.results.supportsPassive}},init:function(e){var n,t,o,i,r=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip","same_site_cookie","secure_cookie"];BOOMR_check_doc_domain();(e=e||{}).log!==undefined&&(this.log=e.log);this.log||(this.log=function(){});this.pageId||(this.pageId=BOOMR.utils.generateId(8));if(e.primary&&u.handlers_attached)return this;if("undefined"!=typeof e.site_domain){/:/.test(e.site_domain)&&(e.site_domain=l.location.hostname.toLowerCase());this.session.domain=e.site_domain}BOOMR.session.enabled&&"undefined"==typeof BOOMR.session.ID&&(BOOMR.session.ID=BOOMR.utils.generateUUID());"undefined"!=typeof e.autorun&&(u.autorun=e.autorun);for(t in this.plugins)if(this.plugins.hasOwnProperty(t))if(e[t]&&e[t].hasOwnProperty("enabled")&&!1===e[t].enabled){u.disabled_plugins[t]=1;"function"==typeof this.plugins[t].disable&&this.plugins[t].disable()}else{if(u.disabled_plugins[t]){if(!e[t]||!e[t].hasOwnProperty("enabled")||!0!==e[t].enabled)continue;"function"==typeof this.plugins[t].enable&&this.plugins[t].enable();delete u.disabled_plugins[t]}if("function"==typeof this.plugins[t].init)try{this.plugins[t].init(e)}catch(a){BOOMR.addError(a,t+".init")}}for(n=0;n<r.length;n++)e[r[n]]!==undefined&&(u[r[n]]=e[r[n]]);if(!u.handlers_attached&&!e.wait||u.handlers_attached&&u.waiting_for_config){if(!u.onloadfired&&(u.autorun===undefined||!1!==u.autorun)){BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0);BOOMR.attach_page_ready(BOOMR.page_ready_autorun)}u.waiting_for_config=!1}if(u.handlers_attached)return this;e.wait&&(u.waiting_for_config=!0);BOOMR.attach_page_ready(function(){BOOMR.t_onload||(BOOMR.t_onload=BOOMR.now())});BOOMR.utils.addListener(l,"DOMContentLoaded",function(){u.fireEvent("dom_loaded")});BOOMR.fireEvent("config",e);BOOMR.subscribe("config",function(e){e.beacon_url&&(u.beacon_url=e.beacon_url)});BOOMR.subscribe("spa_navigation",u.spaNavigation,null,u);if(c!==undefined){BOOMR.utils.addListener(s,c,function(){u.fireEvent("visibility_changed")});u.lastVisibilityState=BOOMR.visibilityState();BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now();if("prerender"===u.lastVisibilityState&&"prerender"!==e){BOOMR.addVar("vis.pre","1");u.fireEvent("prerender_to_visible")}u.lastVisibilityState=e})}BOOMR.utils.addListener(s,"mouseup",u.xb_handler("click"));o=s.getElementsByTagName("form");for(i=0;i<o.length;i++)BOOMR.utils.addListener(o[i],"submit",u.xb_handler("form_submit"));l.onpagehide||null===l.onpagehide||BOOMR.utils.addListener(l,"unload",function(){BOOMR.window=l=null});BOOMR.boomerang_frame!==BOOMR.window&&BOOMR.utils.addListener(BOOMR.boomerang_frame,"unload",u.onFrameUnloaded);u.handlers_attached=!0;return this},attach_page_ready:function(e){BOOMR.hasBrowserOnloadFired()?this.setImmediate(e,null,null,BOOMR):l.onpagehide||null===l.onpagehide?BOOMR.utils.addListener(l,"pageshow",e):BOOMR.utils.addListener(l,"load",e)},page_ready_autorun:function(e){u.autorun&&BOOMR.page_ready(e,!0)},page_ready:function(e,n){var t;if(!n&&"number"==typeof e){t=e;e=null}e=(e=e||l.event)||{name:"load"};if(n){if("number"==typeof l.BOOMR_page_ready){e.timing=e.timing||{};e.timing.loadEventEnd=l.BOOMR_page_ready;BOOMR.addVar("pr",1,!0)}}else{e.timing=e.timing||{};t?e.timing.loadEventEnd=t:"number"==typeof l.BOOMR_page_ready?e.timing.loadEventEnd=l.BOOMR_page_ready:e.timing.loadEventEnd=BOOMR.now();BOOMR.addVar("pr",1,!0)}if(u.onloadfired)return this;u.fireEvent("page_ready",e);u.onloadfired=!0;return this},hasBrowserOnloadFired:function(){var e=BOOMR.getPerformance();return s.readyState&&"complete"===s.readyState||e&&e.timing&&0<e.timing.loadEventStart||0<l.BOOMR_onload},onloadFired:function(){return u.onloadfired},setImmediate:function(e,n,t,o){var i=function(){e.call(o||null,n,t||{},void 0);i=null};l.requestIdleCallback?l.requestIdleCallback(i,{timeout:1e3}):l.setImmediate?l.setImmediate(i):setTimeout(i,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},forceSameSiteCookieNone:function(){u.forced_same_site_cookie_none=!0},hrNow:function(){var e,n=BOOMR.getPerformance();if(n&&n.now)e=n.now();else{n=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;e=BOOMR.now()-n}return e},visibilityState:n===undefined?function(){return"visible"}:function(){return s[n]},lastVisibilityEvent:{},registerEvent:function(e){if(u.events.hasOwnProperty(e))return this;u.events[e]=[];return this},disable:function(){u.clearEvents();u.clearListeners()},fireEvent:function(e,n){return u.fireEvent(e,n)},subscribe:function(e,n,t,o,i){var r,a,s;e=e.toLowerCase();u.translate_events[e]&&(e=u.translate_events[e]);u.events.hasOwnProperty(e)||(u.events[e]=[]);s=u.events[e];for(r=0;r<s.length;r++)if((a=s[r])&&a.fn===n&&a.cb_data===t&&a.scope===o)return this;s.push({fn:n,cb_data:t||{},scope:o||null,once:i||!1});"page_ready"===e&&u.onloadfired&&u.autorun&&this.setImmediate(n,null,t,o);if("page_unload"===e||"before_unload"===e){u.unloadEventsCount++;s.length;i=function(e){n&&n.call(o,e||l.event,t);++u.unloadEventCalled===u.unloadEventsCount&&BOOMR.real_sendBeacon()};"page_unload"===e&&(l.onpagehide||null===l.onpagehide?BOOMR.utils.addListener(l,"pagehide",i):BOOMR.utils.addListener(l,"unload",i));BOOMR.utils.addListener(l,"beforeunload",i)}return this},addError:function BOOMR_addError(e,n,t){var o=BOOMR.plugins.Errors;BOOMR.error("Boomerang caught error: "+e+", src: "+n+", extra: "+t);if(o&&o.is_supported())if("string"==typeof e)o.send({message:e,extra:t,functionName:n,noStack:!0},o.VIA_APP,o.SOURCE_BOOMERANG);else{"string"==typeof n&&(e.functionName=n);void 0!==t&&(e.extra=t);o.send(e,o.VIA_APP,o.SOURCE_BOOMERANG)}else{"string"!=typeof e&&(e=o=(o=String(e)).match(/^\[object/)?e.name+": "+(e.description||e.message).replace(/\r\n$/,""):o);n!==undefined&&(e="["+n+":"+BOOMR.now()+"] "+e);t&&(e+=":: "+t);u.errors[e]?u.errors[e]++:u.errors[e]=1}},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)||-2146828218===e.number},addVar:function(e,n,t){if("string"==typeof e){u.vars[e]=n;t&&(u.singleBeaconVars[e]=1)}else if("object"==typeof e){var o,i=e;for(o in i)if(i.hasOwnProperty(o)){u.vars[o]=i[o];t&&(u.singleBeaconVars[o]=1)}}return this},appendVar:function(e,n){var t=BOOMR.getVar(e)||"";t&&(t+=",");BOOMR.addVar(e,t+n);return this},removeVar:function(e){var n,t;if(!arguments.length)return this;t=1===arguments.length&&BOOMR.utils.isArray(e)?e:arguments;for(n=0;n<t.length;n++)u.vars.hasOwnProperty(t[n])&&delete u.vars[t[n]];return this},hasVar:function(e){return u.vars.hasOwnProperty(e)},getVar:function(e){return u.vars[e]},setVarPriority:function(e,n){if("number"!=typeof n||1!==Math.abs(n))return this;u.varPriority[n][e]=1;return this},setReferrer:function(e){u.r=e},requestStart:function(n){var t=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+n,t);return{loaded:function(e){BOOMR.responseEnd(n,t,e)}}},readyToSend:function(){for(var e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&"function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return!1;return!0},responseEnd:function(e,n,t,o){n="number"==typeof n?n:BOOMR.now();o="number"==typeof o?o:BOOMR.now();if(!BOOMR.readyToSend())return setTimeout(function(){BOOMR.responseEnd(e,n,t,o)},1e3),void 0;if(!BOOMR.hasSentPageLoadBeacon()&&!BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))return BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,n,t,o)},null,BOOMR,!0),void 0;if(u.beaconInQueue)return BOOMR.subscribe("beacon",function(){BOOMR.responseEnd(e,n,t,o)},null,BOOMR,!0),void 0;u.beaconInQueue=!0;if("object"==typeof e)e.url&&u.fireEvent("xhr_load",e);else{BOOMR.real_sendBeacon();BOOMR.addVar("xhr.pg",e,!0);BOOMR.plugins.RT.startTimer("xhr_"+e,n);u.fireEvent("xhr_load",{name:"xhr_"+e,data:t,timing:{loadEventEnd:o}})}},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(e){e&&(u.beacon_url_override=e);if(!u.beaconQueued){u.beaconQueued=!0;BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)}return!0},sendBeaconWhenReady:function(e,n,t){if(u.beaconInQueue)return BOOMR.subscribe("beacon",function(){BOOMR.sendBeaconWhenReady(e,n,t)},null,BOOMR,!0),void 0;u.beaconInQueue=!0;for(var o in e)e.hasOwnProperty(o)&&BOOMR.addVar(o,e[o],!0);"function"==typeof n&&void 0!==t&&n.apply(t);BOOMR.sendBeacon()},real_sendBeacon:function(){var e,n=[],t={};if(!u.beaconQueued)return!1;u.beaconQueued=!1;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&!this.plugins[e].is_complete(u.vars))return delete u.vars.early,!1;if(!(window&&window.Image&&window.navigator&&BOOMR.window))return!1;var o=BOOMR.utils.inArray(u.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),i="undefined"==typeof u.vars["http.initiator"]||o;u.vars.pgu||(u.vars.pgu=o?s.URL:s.URL.replace(/#.*/,""));u.vars.pgu=BOOMR.utils.cleanupURL(u.vars.pgu);u.vars.u&&!o||(u.vars.u=u.vars.pgu);u.vars.pgu===u.vars.u&&delete u.vars.pgu;u.r?u.vars.r=BOOMR.utils.cleanupURL(u.r):delete u.vars.r;u.vars.v=BOOMR.version;BOOMR.snippetVersion&&(u.vars.sv=BOOMR.snippetVersion);u.vars.sm=BOOMR.snippetMethod||"i";if(BOOMR.session.enabled){u.vars["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36);u.vars["rt.ss"]=BOOMR.session.start;"undefined"==typeof u.vars.early?u.vars["rt.sl"]=1<=BOOMR.session.length?BOOMR.session.length:1:u.vars["rt.sl"]=BOOMR.session.length}else BOOMR.removeVar("rt.si","rt.ss","rt.sl");if(BOOMR.visibilityState()){u.vars["vis.st"]=BOOMR.visibilityState();BOOMR.lastVisibilityEvent.visible&&(u.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible);BOOMR.lastVisibilityEvent.hidden&&(u.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)}u.vars["ua.plt"]=navigator.platform;u.vars["ua.vnd"]=navigator.vendor;this.pageId&&(u.vars.pid=this.pageId);u.vars.n=++this.beaconsSent;l!==window&&(u.vars["if"]="");for(e in u.errors)u.errors.hasOwnProperty(e)&&n.push(e+(1<u.errors[e]?" (*"+u.errors[e]+")":""));0<n.length&&(u.vars.errors=n.join("\n"));u.errors={};u.fireEvent("before_beacon",u.vars);for(e in u.vars)u.vars.hasOwnProperty(e)&&(t[e]=u.vars[e]);BOOMR.removeVar(["qt","pgu"]);if("undefined"==typeof u.vars.early){for(var r in u.singleBeaconVars)u.singleBeaconVars.hasOwnProperty(r)&&BOOMR.removeVar(r);u.singleBeaconVars={};if(!u.hasSentPageLoadBeacon&&i){u.hasSentPageLoadBeacon=!0;BOOMR.setImmediate(function(){u.fireEvent("page_load_beacon",t)})}}if(BOOMR.session.rate_limited)return!1;u.beaconInQueue=!1;BOOMR.sendBeaconData(t);return!0},sendBeaconData:function(e){var n,t,o=[],i=!0;u.beacon_url=u.beacon_url_override||u.beacon_url;if(!u.beacon_url)return!1;if(!u.beaconUrlAllowed(u.beacon_url))return!1;if(BOOMR.utils.isObjectEmpty(e))return!1;u.fireEvent("beacon",e);o=this.getVarsOfPriority(e,-1);n=this.getVarsOfPriority(e,1);e=o.concat(this.getVarsOfPriority(e,0),n).join("&");u.beacon_url_force_https&&u.beacon_url.match(/^\/\//)&&(u.beacon_url="https:"+u.beacon_url);n=u.beacon_url+(-1<u.beacon_url.indexOf("?")?"&":"?")+e;if("GET"===u.beacon_type){i=!0;n.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")}else("POST"===u.beacon_type||n.length>BOOMR.constants.MAX_GET_LENGTH)&&(i=!1);if(l&&l.navigator&&"function"==typeof l.navigator.sendBeacon&&BOOMR.utils.isNative(l.navigator.sendBeacon)&&"function"==typeof l.Blob&&"GET"!==u.beacon_type&&"undefined"==typeof u.beacon_auth_token&&!u.beacon_disable_sendbeacon){var o=new l.Blob([e+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(l.navigator.sendBeacon(u.beacon_url,o))return!0}if(i=BOOMR.orig_XMLHttpRequest||l&&l.XMLHttpRequest?i:!0){try{t=new Image}catch(r){return!1}t.src=n}else{o=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(o,e)}catch(r){o=new BOOMR.boomerang_frame.XMLHttpRequest;this.sendXhrPostBeacon(o,e)}}return!0},hasSentPageLoadBeacon:function(){return u.hasSentPageLoadBeacon},sendXhrPostBeacon:function(e,n){e.open("POST",u.beacon_url);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");if("undefined"!=typeof u.beacon_auth_token){"undefined"==typeof u.beacon_auth_key&&(u.beacon_auth_key="Authorization");e.setRequestHeader(u.beacon_auth_key,u.beacon_auth_token)}u.beacon_with_credentials&&(e.withCredentials=!0);e.send(n)},getVarsOfPriority:function(e,n){var t,o=[],i=0!==n?u.varPriority[n]:e;for(t in i)if(i.hasOwnProperty(t)&&e.hasOwnProperty(t)){o.push(this.getUriEncodedVar(t,"undefined"==typeof e[t]?"":e[t]));0!==n&&delete e[t]}return o},getUriEncodedVar:function(e,n){"object"==typeof(n=n!==undefined&&null!==n?n:"")&&(n=BOOMR.utils.serializeForUrl(n));return encodeURIComponent(e)+"="+encodeURIComponent(n)},getResourceTiming:function(e,n,t){var o,i=BOOMR.getPerformance();try{if(i&&"function"==typeof i.getEntriesByName){if(!(o=i.getEntriesByName(e))||!o.length)return;if(!("function"!=typeof t||(o=BOOMR.utils.arrayFilter(o,t))&&o.length))return;1<o.length&&"function"==typeof n&&o.sort(n);return o[o.length-1]}}catch(r){BOOMR.warn("getResourceTiming:"+r)}}};if(BOOMR.url){var o=BOOMR.window.document.createElement("a");o.href=BOOMR.url;e.url=o.href}else e.url=e.utils.getMyURL();delete BOOMR_start;if("number"==typeof BOOMR_lstart){e.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else"number"==typeof BOOMR.window.BOOMR_lstart&&(e.t_lstart=BOOMR.window.BOOMR_lstart);"number"==typeof BOOMR.window.BOOMR_onload&&(e.t_onload=BOOMR.window.BOOMR_onload);"object"==typeof console&&console.log!==undefined?e.log=function(e,n,t){console.log("("+BOOMR.now()+") {"+BOOMR.pageId+"}: "+t+": ["+n+"] "+e)}:e.log=function(){};e.debug=(o=function(t){return function(e,n){this.log(e,t,"boomerang"+(n?"."+n:""));return this}})("debug");e.info=o("info");e.warn=o("warn");e.error=o("error");try{var i=e.getPerformance();i&&"function"==typeof i.now&&/\[native code\]/.test(String(i.now))&&i.timing&&i.timing.navigationStart&&(e.now=function(){return Math.round(i.now()+i.timing.navigationStart)})}catch(f){}u.checkLocalStorageSupport();for(t in e)e.hasOwnProperty(t)&&(BOOMR[t]=e[t]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={});d("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window);!function(){if(!BOOMR.plugins.Continuity){var v=100,b=0,B=1,R=2,k="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",y=".",w={passive:!0,capture:!0},_=BOOMR.getPerformance(),S={},T=_&&_.timing&&_.timing.navigationStart?_.timing.navigationStart:BOOMR.now(),n=function(c){var l={},o={},a=[],s=0,u=0,t=0,d=!0;BOOMR.fpsLog&&BOOMR.fpsLog.length&&(c=BOOMR.fpsLog[0]+T);function O(){return Math.floor((BOOMR.now()-c)/v)}function f(){var e=0;if(E.ttiWaitForFrameworkReady){if(!E.frameworkReady)return;e=E.frameworkReady}if(BOOMR.plugins.PaintTiming&&BOOMR.plugins.PaintTiming.is_supported()&&_&&_.timeOrigin){var n=BOOMR.plugins.PaintTiming.getTimingFor("largest-contentful-paint");(n=(n=n||BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint"))||BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(e=Math.max(e,Math.round(n+_.timeOrigin)))}else if(_&&_.timing&&_.timing.msFirstPaint)e=Math.max(e,_.timing.msFirstPaint);else if(BOOMR.window&&BOOMR.window.chrome&&"function"==typeof BOOMR.window.chrome.loadTimes){n=BOOMR.window.chrome.loadTimes();n&&n.firstPaintTime&&(e=Math.max(e,1e3*n.firstPaintTime))}_&&_.timing&&_.timing.domContentLoadedEventEnd&&(e=Math.max(e,_.timing.domContentLoadedEventEnd));return e=E.ttiWaitForHeroImages&&(t=function u(e){var n,t,o,i,r,a=0;if(!BOOMR.window||!BOOMR.window.document||"function"!=typeof BOOMR.window.document.querySelectorAll)return 0;if(!_||"function"!=typeof _.getEntriesByType)return 0;if((n=BOOMR.window.document.querySelectorAll(e+", "+e+" * img, "+e+" * image"))&&n.length)for(t=0;t<n.length;t++){i=n[t].currentSrc||n[t].src||"function"==typeof n[t].getAttribute&&n[t].getAttribute("xlink:href");if(!i&&"function"==typeof BOOMR.window.getComputedStyle){var s=BOOMR.window.getComputedStyle(n[t])&&BOOMR.window.getComputedStyle(n[t]).getPropertyValue("background");if(s){s=s.match(/url\(["']?([^"']*)["']?\)/);s&&0<s.length&&(i=s[1])}}if(i&&(r=_.getEntriesByName(i))&&r.length)for(o=0;o<r.length;o++)a=Math.max(a,r[o].responseEnd)}return a?Math.floor(a+T):0}(E.ttiWaitForHeroImages))?Math.max(e,t):e}function m(e,n){return function f(e,l,n,t,o){var i,r,a,s,u,d="",c=0;if(!n)return"";if(0===n.length)return"";if(l){"undefined"==typeof n[t]&&(n[t]=0);for(i=t+1;i<=o;i++)"undefined"==typeof n[i]&&(n[i]=n[i-1])}for(i=t;i<=o;i++){c="number"!=typeof n[i]||isNaN(n[i])?0:n[i];e===b?a=c<=63?k.charAt(c):y+c.toString(36)+y:e===B?a=c.toString(36):e===R&&(a=c<99?c<=9?"0"+Math.max(c,0):c:"__");if(i+3<=o&&(n[i+1]===c||0===c&&n[i+1]===undefined)&&(n[i+2]===c||0===c&&n[i+2]===undefined)&&(n[i+3]===c||0===c&&n[i+3]===undefined)){r=1;for(;i<o&&(n[i+1]===c||0===c&&n[i+1]===undefined);){r++;i++}s="*"+r.toString(36)+"*"+a}else s=a;if(0!==c||i!==o){e===B&&u&&(d+=",");u=!0;d+=s}}return u?e.toString()+d:""}(o[e].compressMode,o[e].backfillLast,l[e],0!==n?Math.floor((n-c)/v):0,O())}S.timeToInteractive=function(){if(s)return s-T};S.timeToVisuallyReady=function(){if(u)return u-T};S.timeToHeroImagesReady=function(){if(E.ttiWaitForHeroImages&&t)return t-T};S.timeToFrameworkReady=function(){if(E.ttiWaitForFrameworkReady&&E.frameworkReady)return E.frameworkReady-T};S.log=function(){return a};return{register:function i(e,n,t){l[e]||(l[e]=[]);o[e]={compressMode:n||b,backfillLast:t}},set:function r(e,n,t){void 0===t&&(t=O());l[e]&&(l[e][t]=n)},log:function g(e,n,t){void 0===n&&(n=O());a.push({type:e,time:n,val:t});a.length>E.logMaxEntries&&Array.prototype.splice.call(a,0,a.length-E.logMaxEntries)},increment:function p(e,n,t){void 0===t&&(t=O());void 0===n&&(n=1);if(l[e]){l[e][t]||(l[e][t]=0);l[e][t]+=n}},getTimeBucket:O,getStats:function M(e,n){var t,o,i=0,r=0,a=Infinity,s=0,u=Math.floor((n-c)/v);if(!l[e])return 0;for(o in l[e]){o=parseInt(o,10);if(u<=o&&l[e].hasOwnProperty(o)){i++;r+=t=l[e][o];a=Math.min(a,t);s=Math.max(s,t)}}return{total:r,count:i,min:a,max:s}},analyze:function h(e){var n=O(),t=0,o=0;E.sendLog&&void 0!==e&&!function i(){for(var e="",n=0;n<a.length;n++){var t,o=a[n];0!==n&&(e+="|");e=(e+=o.type)+Math.round(o.time-T).toString(36);for(t in o.val)if(o.val.hasOwnProperty(t)){e+=","+t;"number"==typeof o.val[t]?e+=o.val[t].toString(36):e+=o.val[t]}}""!==e&&E.addToBeacon("c.l",e)}();E.sendTimeline&&void 0!==e&&!function r(e){var n,t;for(n in l)l.hasOwnProperty(n)&&""!==(t=m(n,e))&&E.addToBeacon("c.t."+n,t)}(e);if(!s&&(u=u||f())){if(d){E.addToBeacon("c.tti.vr",S.timeToVisuallyReady());E.addToBeacon("c.tti.fr",S.timeToFrameworkReady());E.addToBeacon("c.tti.hi",S.timeToHeroImagesReady());d=!1}if(l.longtask||l.fps||l.busy){for(t=Math.floor((u-c)/v);t<=n;t++)if(l.longtask&&l.longtask[t])o=0;else if(l.fps&&(!l.fps[t]||l.fps[t]<2))o=0;else if(l.busy&&50<l.busy[t])o=0;else if(l.interdly&&l.interdly[t])o=0;else if(5<=++o){s=c+(t-5)*v;s=Math.max(s,u);break}0<s&&E.addToBeacon("c.tti",S.timeToInteractive())}}},stop:function e(){l={};a=[]},onBeacon:function n(){for(var e in l)l.hasOwnProperty(e)&&(l[e]=[]);d=!(a=[])}}},t=function(e){if(e.PerformanceObserver&&e.LayoutShift){var o=!0,i=0,n=new e.PerformanceObserver(function r(e){var n,t;if(o){n=e.getEntries();for(t=0;t<n.length;t++)n[t].hadRecentInput||(i+=n[t].value)}});try{n.observe({type:"layout-shift",buffered:!0})}catch(a){return}S.clsScore=function(){return i};return{clearClsScore:t,analyze:function s(e){E.addToBeacon("c.cls",S.clsScore())},stop:function u(){o=!1;n.disconnect();t()},onBeacon:function c(){t()}}}function t(){i=0}},o=function(e,o){if(e.PerformanceObserver&&e.PerformanceLongTaskTiming){var f={unknown:0,self:1,"same-origin-ancestor":2,"same-origin-descendant":3,"same-origin":4,"cross-origin-ancestor":5,"cross-origin-descendant":6,"cross-origin-unreachable":7,"multiple-contexts":8},O={unknown:0,script:1,layout:2},g={unknown:0,iframe:1,embed:2,object:3},n=new e.PerformanceObserver(function s(e){var n,t;if(i){n=e.getEntries();Array.prototype.push.apply(m,n);for(t=0;t<n.length;t++)r+=n[t].duration;o.increment("longtask",n.length)}});try{n.observe({entryTypes:["longtask"]})}catch(a){return}o.register("longtask",b);var m=[],i=!0,r=0;S.longTasksTime=function(){return r};S.longTasksCount=function(){return m.length};return{getTasks:function u(){return m},clearTasks:t,analyze:function p(l){var e,n,t,o,i,r=[],a=[];if(0!==m.length){for(e=0;e<m.length;e++){t=m[e];o={s:Math.round(t.startTime).toString(36),d:Math.ceil(t.duration).toString(36),n:f[t.name]||0};a=[];for(n=0;n<t.attribution.length;n++)if("script"!==(i=t.attribution[n]).name||"iframe"!==i.containerType||i.containerName||i.containerId||i.containerSrc){var s=i.containerName||undefined,u=i.containerId||undefined,c=(s===u&&(s=undefined),u===undefined?i.containerSrc:undefined);a.push({a:O[i.name]||0,t:g[i.containerType]||0,n:s,i:u,s:c})}0<a.length&&(o.a=a);r.push(o)}E.addToBeacon("c.lt.n",S.longTasksCount(),!0);E.addToBeacon("c.lt.tt",S.longTasksTime());E.addToBeacon("c.lt",function d(e){var n=BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl||window.UserTimingCompression&&window.UserTimingCompression.jsUrl||BOOMR.window.UserTimingCompression&&BOOMR.window.UserTimingCompression.jsUrl;return n?n(e):window.JSON?JSON.stringify(e):""}(r))}},stop:function c(){i=!1;n.disconnect();t()},onBeacon:function l(){t()}}}function t(){m=[];r=0}},i=function(l,o){o.register("busy",R);var i=Math.floor(3.125),t=BOOMR.now(),r=0,a=0,s=0,u=0,e=!1,n=!1;S.pageBusy=function(){return 0===s?0:Math.ceil(u/s*100)};e=setInterval(function c(){var e=BOOMR.now(),n=e-t;t=e;if(68<n){e=Math.floor((n-32)/32);r+=e;a+=e;n-=32*e}r++;36<n&&a++},32);n=setInterval(function d(){var e=o.getTimeBucket(),n=e,t=0;if(0!==r){for(;i+1<r&&t<=100;){o.set("busy",100,--n);r-=i;a=Math.max(a-i,0);s+=i;u+=i;t++}s+=r;u+=a;o.set("busy",Math.ceil(a/r*100),e);a=r=0}},100);return{analyze:function f(e){E.addToBeacon("c.b",S.pageBusy())},stop:function O(){if(e){clearInterval(e);e=!1}if(n){clearInterval(n);n=!1}},onBeacon:function m(){u=s=0}}},r=function(n,t){t.register("fps",b);var o,i=0,r=0,a=!0;if(BOOMR.fpsLog&&BOOMR.fpsLog.length){for(var s=o=BOOMR.fpsLog[0]+T,e=0;e<BOOMR.fpsLog.length;e++){var u=T+BOOMR.fpsLog[e];t.increment("fps",1,Math.floor((u-o)/v));50<=u-s&&r++;s=u}i=BOOMR.fpsLog.length;delete BOOMR.fpsLog}else o=BOOMR.now();n.requestAnimationFrame(function c(e){if(a){50<=e-s&&r++;s=e;i++;t.increment("fps");n.requestAnimationFrame(c)}});S.fps=function(){var e=S.fpsDuration();if(e)return Math.floor(i/(e/1e3))};S.fpsDuration=function(){if(o)return BOOMR.now()-o};S.fpsMinimum=function(){var e;if(S.fpsDuration())return(e=t.getStats("fps",o).min)!==Infinity?e:undefined};S.fpsLongFrames=function(){return r};S.fpsStart=function(){return o?o.toString(36):0};return{analyze:function l(e){E.addToBeacon("c.f",S.fps());E.addToBeacon("c.f.d",S.fpsDuration());E.addToBeacon("c.f.m",S.fpsMinimum());E.addToBeacon("c.f.l",S.fpsLongFrames());E.addToBeacon("c.f.s",S.fpsStart())},stop:function d(){a=!1;o=0},onBeacon:function f(){a&&(o=BOOMR.now());r=i=0}}},a=function(e,i,o){if(e&&e.document&&e.document.body&&e.document.documentElement){var d=0,r=0,a=0,s=0,u=0,c=0,l=0,f=0,n=!1,O=e.document.body,t=e.document.documentElement;i.register("scroll",b);i.register("scrollpct",R);var m=Math.max(O.scrollHeight,O.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)-BOOMR.utils.windowHeight();S.scrollPct=function(){return s};S.scrollCount=function(){return u};S.scrollDistinct=function(){return l};S.scrollPixels=function(){return c};BOOMR.utils.addListener(e,"scroll",g,w);n=setInterval(function p(){var e=Math.min(a,100);0!==e&&i.set("scrollpct",e);a=0},v);return{analyze:function M(e){E.addToBeacon("c.s",S.scrollCount());E.addToBeacon("c.s.p",S.scrollPct());E.addToBeacon("c.s.y",S.scrollPixels());E.addToBeacon("c.s.d",S.scrollDistinct())},stop:function h(){if(n){clearInterval(n);n=!1}BOOMR.utils.removeListener(e,"scroll",g)},onBeacon:function B(){l=c=u=s=0}}}function g(e){var n=BOOMR.now();u++;2e3<n-f&&l++;f=n;var t=Math.ceil(BOOMR.utils.scroll().y),o=Math.abs(d-t);c+=o;i.increment("scroll",o);if(0===r||20<Math.abs(r-t)){i.log(0,n,{y:t});r=t}a+=Math.round(o/m*100);s+=Math.round(o/m*100);d=t}},s=function(e,r,a){r.register("click",b);var s=0,u=0,c=0,l=0,d=0,f=null;function n(e){var n=BOOMR.now(),t=e.clientX,o=e.clientY,i=(s++,Math.round(Math.sqrt(Math.pow(d-o,2)+Math.pow(l-t,2))));if(f===e.target||i<=10){if(3<=++u+1){c++;BOOMR.fireEvent("rage_click",e)}}else u=0;l=t;d=o;f=e.target;r.increment("click");r.log(1,n,{x:t,y:o});e.cancelable&&a.interact("click",n,e)}S.clicksCount=function(){return s};S.clicksRage=function(){return c};BOOMR.utils.addListener(e.document,"click",n,w);return{analyze:function t(e){E.addToBeacon("c.c",S.clicksCount());E.addToBeacon("c.c.r",S.clicksRage())},stop:function o(){BOOMR.utils.removeListener(e.document,"click",n)},onBeacon:function i(){c=u=s=0}}},u=function(e,t,o){t.register("key",b);var i=0,r=0;function n(e){var n=BOOMR.now();i++;27===e.keyCode&&r++;t.increment("key");t.log(3,n);e.cancelable&&o.interact("key",n,e)}S.keyCount=function(){return i};S.keyEscapes=function(){return r};BOOMR.utils.addListener(e.document,"keydown",n,w);return{analyze:function a(e){E.addToBeacon("c.k",S.keyCount());E.addToBeacon("c.k.e",S.keyEscapes())},stop:function s(){BOOMR.utils.removeListener(e.document,"keydown",n)},onBeacon:function u(){r=i=0}}},c=function(l,i,d){i.register("mouse",b);i.register("mousepct",R);var r=0,a=0,e=0,n=0,s=0,u=0,c=0,t=!1,o=!1,f=Math.round(Math.sqrt(Math.pow(BOOMR.utils.windowHeight(),2)+Math.pow(BOOMR.utils.windowWidth(),2)));function O(e){var n=e.clientX,e=e.clientY,t=Math.round(Math.sqrt(Math.pow(a-e,2)+Math.pow(r-n,2))),o=Math.round(t/f*100);s+=o;u+=o;c+=t;r=n;a=e;i.increment("mouse",t)}S.mousePct=function(){return u};S.mousePixels=function(){return c};t=setInterval(function m(){var e=Math.min(s,100);0!==e&&i.set("mousepct",e);s=0},v);o=setInterval(function g(){if(e!==r||n!==a)if(10<=Math.round(Math.sqrt(Math.pow(n-a,2)+Math.pow(e-r,2)))){i.log(2,BOOMR.now(),{x:r,y:a});e=r;n=a}},250);BOOMR.utils.addListener(l.document,"mousemove",O,w);return{analyze:function p(e){E.addToBeacon("c.m.p",S.mousePct());E.addToBeacon("c.m.n",S.mousePixels())},stop:function M(){if(t){clearInterval(t);t=!1}if(o){clearInterval(o);o=!1}BOOMR.utils.removeListener(l.document,"mousemove",O)},onBeacon:function h(){c=u=0}}},l=function(m,i,e){i.register("inter",b);i.register("interdly",b);var g=e,r=0,a=null,s=0,u=0,c=0,p=0,M=!0,l=0,d=0,f=!1,O=!1,h=!1,t=!1;function n(){if(f){clearTimeout(f);f=!1}if(O){clearTimeout(O);O=!1}}function B(){BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"interaction","rt.tstart":l,"rt.end":d},function(){n();BOOMR.fireEvent("interaction")},E)}S.interactionDelayed=function(){return c};S.interactionDelayedTime=function(){return Math.ceil(p)};S.interactionAvgDelay=function(){if(0<s)return Math.ceil(u/s)};S.timeToFirstInteraction=function(){if(r)return r-T};S.firstInputDelay=function(){if(null!==a)return a};BOOMR.subscribe("spa_init",function o(){h=!0;n()},null,E);return{interact:function v(e,n,t){var o=0;BOOMR.hrNow();n=n||BOOMR.now();if(M){s++;r=r||(t&&t.timeStamp?t.timeStamp+T:n);if(t&&t.timeStamp&&(!E.isSafari||m===window)){o=14e11<t.timeStamp?n-t.timeStamp:BOOMR.hrNow()-t.timeStamp;u+=o;null===a&&(a=Math.ceil(o));if(50<o){i.increment("interdly");c++;p+=o}}i.increment("inter");if(!h&&E.afterOnloadMonitoring){d=BOOMR.now();if(!l){l=d;O=setTimeout(B,3e4)}if(f){clearTimeout(f);f=!1}f=setTimeout(B,g)}}},analyze:function R(e){var n;E.addToBeacon("c.i.dc",S.interactionDelayed());E.addToBeacon("c.i.dt",S.interactionDelayedTime());E.addToBeacon("c.i.a",S.interactionAvgDelay());if(!t&&(n=(n=BOOMR.plugins.EventTiming&&BOOMR.plugins.EventTiming.is_enabled()?BOOMR.plugins.EventTiming.metrics.firstInputDelay():n)||null===a?n:S.firstInputDelay())){E.addToBeacon("c.fid",Math.ceil(n),!0);E.addToBeacon("c.ttfi",BOOMR.plugins.EventTiming.metrics.timeToFirstInteraction()||S.timeToFirstInteraction());t=!0}},stop:function y(){M=!1},onBeacon:function w(){d=l=u=s=c=p=0;h=!1;n()}}},d=function(e,n,t){var o,i,r=!0;function a(){if(r){t.interact("pd",o,i);i=o=null;BOOMR.utils.removeListener(window,"pointerup",a)}}function s(e){if(r&&e.cancelable){o=BOOMR.now();i=e;BOOMR.utils.addListener(window,"pointerup",a,w)}}function u(){r=!1;BOOMR.utils.removeListener(window,"pointerdown",s);BOOMR.utils.removeListener(window,"pointerup",a);BOOMR.utils.removeListener(window,"pointercancel",u)}BOOMR.utils.addListener(window,"pointerdown",s,w);BOOMR.utils.addListener(window,"pointercancel",u,w);return{stop:u}},f=function(e,n,t){var o=!0;function i(e){if(o&&e.cancelable){var n=BOOMR.now();t.interact("md",n,e)}}BOOMR.utils.addListener(window,"mousedown",i,w);return{stop:function r(){o=!1;BOOMR.utils.removeListener(window,"mousedown",i)}}},O=function(e,n,t){var o=!0;function i(e){if(o&&e.cancelable){var n=BOOMR.now();t.interact("ts",n,e)}}BOOMR.utils.addListener(window,"touchstart",i,w);return{stop:function r(){o=!1;BOOMR.utils.removeListener(window,"touchstart",i)}}},m=function(e,t,n){t.register("vis",b);var o={visible:0,hidden:1,prerender:2,unloaded:3},i=!0;BOOMR.subscribe("visibility_changed",function(e){var n=BOOMR.now();if(i){t.increment("vis");t.log(4,n,{s:o[BOOMR.visibilityState()]})}});return{stop:function r(){i=!1}}},g=function(e,i,n){i.register("orn",b);var r=!0;function t(e){var n=BOOMR.now(),t=window.orientation;if(r){i.increment("orn");var o=window.screen&&(screen.orientation||screen.msOrientation||screen.mozOrientation||{});"number"==typeof(t=o&&"number"==typeof o.angle?screen.orientation.angle:t)&&i.log(5,n,{a:t})}}BOOMR.utils.addListener(e,"orientationchange",t,w);return{stop:function o(){r=!1;BOOMR.utils.removeListener(e,"orientationchange",t)}}},p=function(e,n){n.register("mem",B,!0);n.register("bat",R,!0);n.register("domsz",B,!0);n.register("domln",B,!0);n.register("mut",b);var t,o=e.document,i=!0,r=!1,a=null,s=0,u=0,c=o.getElementsByTagName("*");function l(){i&&a&&n.set("bat",a.level)}r=setInterval(function d(){var e=_&&_.memory&&_.memory.usedJSHeapSize;e&&n.set("mem",e);u=c.length;n.set("domsz",o.documentElement.innerHTML.length);n.set("domln",u);if(0<s){e=Math.min(Math.round(s/u*100),100);n.set("mut",e);s=0}},1e3);e.navigator&&"function"==typeof e.navigator.getBattery&&e.navigator.getBattery().then(function(e){(a=e).onlevelchange&&(a.onlevelchange=l)});BOOMR.utils.isMutationObserverSupported()&&(t=BOOMR.utils.addObserver(o,{childList:!0,subtree:!0},null,function f(e){e.forEach(function(e){if("childList"!==e.type)return!0;for(var n=0;n<e.addedNodes.length;n++){var t=e.addedNodes[n];s++;s+=t.getElementsByTagName?t.getElementsByTagName("*").length:0}});return!0},null,this));return{stop:function O(){i=!1;if(r){clearInterval(r);r=!1}if(t&&t.observer){t.observer.disconnect();t=null}a&&a.onlevelchange&&(a.onlevelchange=null);c=null}}},E={monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!1,monitorLayoutShifts:!0,afterOnload:!1,afterOnloadMaxLength:6e4,afterOnloadMinWait:5e3,waitAfterOnload:!1,ttiWaitForFrameworkReady:!1,ttiWaitForHeroImages:!1,sendLog:!0,sendTimeline:!0,logMaxEntries:100,initialized:!1,complete:!1,isSpa:!1,firedPageReady:!1,afterOnloadMonitoring:!1,frameworkReady:null,timeline:null,ttiMethod:null,longTaskMonitor:null,pageBusyMonitor:null,frameRateMonitor:null,interactionMonitor:null,scrollMonitor:null,clickMonitor:null,keyMonitor:null,mouseMonitor:null,visibilityMonitor:null,orientationMonitor:null,touchStartMonitor:null,mouseDownMonitor:null,pointerDownMonitor:null,statsMonitor:null,layoutShiftMonitor:null,monitors:["timeline","longTaskMonitor","pageBusyMonitor","frameRateMonitor","scrollMonitor","keyMonitor","clickMonitor","mouseMonitor","interactionMonitor","visibilityMonitor","orientationMonitor","statsMonitor","layoutShiftMonitor","touchStartMonitor","mouseDownMonitor","pointerDownMonitor"],timeOfLastBeacon:0,hasAddedDataToBeacon:!1,isSafari:window&&window.navigator&&window.navigator.vendor&&-1!==window.navigator.vendor.indexOf("Apple"),onBeforeBeacon:function(){E.runAllAnalyzers()},runAllAnalyzers:function(){var e,n;if(!E.hasAddedDataToBeacon){for(e=0;e<E.monitors.length;e++)(n=E[E.monitors[e]])&&"function"==typeof n.analyze&&n.analyze(E.timeOfLastBeacon);E.addToBeacon("c.lb",E.timeOfLastBeacon?E.timeOfLastBeacon.toString(36):0);E.timeOfLastBeacon=BOOMR.now();E.hasAddedDataToBeacon=!0}},onBeacon:function(e){var n;if(!e||!("undefined"!=typeof e.early||e["http.initiator"]&&0===e["http.initiator"].indexOf("api_custom_"))){for(n=0;n<E.monitors.length;n++){var t=E[E.monitors[n]];if(t){E.afterOnload||"function"==typeof t.stop&&t.stop();"function"==typeof t.onBeacon&&t.onBeacon()}}E.hasAddedDataToBeacon=!1}},onXhrLoad:function(e){e&&BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(E.isSpa=!0);e&&"spa_hard"===e.initiator&&E.onPageReady()},onPageReady:function(){E.firedPageReady=!0;if(E.afterOnload&&E.monitorInteractions){E.afterOnloadMonitoring=!0;E.isSpa||"number"!=typeof E.afterOnloadMaxLength||setTimeout(function(){E.afterOnloadMonitoring=!1},E.afterOnloadMaxLength)}if(E.waitAfterOnload){var e=BOOMR.now();setTimeout(function n(){if(BOOMR.now()-e>E.waitAfterOnload){E.complete=!0;BOOMR.sendBeacon()}else{E.timeline.analyze();if(S.timeToInteractive()){E.complete=!0;BOOMR.sendBeacon()}else setTimeout(n,500)}},500)}else E.complete=!0},addToBeacon:function(e,n,t){if((0===n||void 0===n)&&!t)return BOOMR.removeVar(e),void 0;BOOMR.addVar(e,n,!0)}};BOOMR.plugins.Continuity={init:function(e){BOOMR.utils.pluginConfig(E,e,"Continuity",["monitorLongTasks","monitorPageBusy","monitorFrameRate","monitorInteractions","monitorStats","afterOnload","afterOnloadMaxLength","afterOnloadMinWait","waitAfterOnload","ttiWaitForFrameworkReady","ttiWaitForHeroImages","sendLog","logMaxEntries","sendTimeline","monitorLayoutShifts"]);if(E.initialized)return this;E.initialized=!0;E.timeline=new n(BOOMR.now());if(BOOMR.window){if(E.monitorLongTasks&&BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming){E.longTaskMonitor=new o(BOOMR.window,E.timeline);E.ttiMethod="lt"}if(E.monitorFrameRate&&"function"==typeof BOOMR.window.requestAnimationFrame){E.frameRateMonitor=new r(BOOMR.window,E.timeline);E.ttiMethod||(E.ttiMethod="raf")}if(E.monitorPageBusy&&(!BOOMR.window.PerformanceObserver||!BOOMR.window.PerformanceLongTaskTiming||!E.monitorLongTasks)){E.pageBusyMonitor=new i(BOOMR.window,E.timeline);E.ttiMethod||(E.ttiMethod="b")}if(E.monitorInteractions){E.interactionMonitor=new l(BOOMR.window,E.timeline,E.afterOnloadMinWait);E.scrollMonitor=new a(BOOMR.window,E.timeline,E.interactionMonitor);E.keyMonitor=new u(BOOMR.window,E.timeline,E.interactionMonitor);E.clickMonitor=new s(BOOMR.window,E.timeline,E.interactionMonitor);E.mouseMonitor=new c(BOOMR.window,E.timeline,E.interactionMonitor);E.visibilityMonitor=new m(BOOMR.window,E.timeline,E.interactionMonitor);E.orientationMonitor=new g(BOOMR.window,E.timeline,E.interactionMonitor);E.touchStartMonitor=new O(BOOMR.window,E.timeline,E.interactionMonitor);E.mouseDownMonitor=new f(BOOMR.window,E.timeline,E.interactionMonitor);E.pointerDownMonitor=new d(BOOMR.window,E.timeline,E.interactionMonitor)}E.monitorStats&&(E.statsMonitor=new p(BOOMR.window,E.timeline,E.interactionMonitor));E.monitorLayoutShifts&&BOOMR.window.PerformanceObserver&&(E.layoutShiftMonitor=new t(BOOMR.window))}BOOMR.addVar("c.e",T.toString(36));BOOMR.addVar("c.tti.m",E.ttiMethod);BOOMR.subscribe("before_beacon",E.onBeforeBeacon,null,E);BOOMR.subscribe("beacon",E.onBeacon,null,E);BOOMR.subscribe("page_ready",E.onPageReady,null,E);BOOMR.subscribe("xhr_load",E.onXhrLoad,null,E);return this},is_complete:function(e){return E.complete||e&&("error"===e["http.initiator"]||"undefined"!=typeof e.early)},frameworkReady:function(){E.frameworkReady=BOOMR.now()},metrics:S}}}();BOOMR.t_end=(new Date).getTime();
